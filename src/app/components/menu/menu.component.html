<h2>🌸 Colección de Flores</h2>

<!-- Lista de flores -->
<div class="lista">
  <app-tarjeta *ngFor="let f of flores" [flor]="f"></app-tarjeta>
</div>

<!-- Botón toggle -->
<button (click)="toggleFormulario()">
  {{ mostrarFormulario ? "❌ Ocultar Formulario" : "➕ Agregar Flor" }}
</button>

<!-- Formulario visible/invisible -->
<div *ngIf="mostrarFormulario" class="formulario">
  <h3>➕ Agregar nueva flor</h3>
  <form>
    <label>Nombre:</label>
    <input type="text" [(ngModel)]="nuevaFlor.nombre" name="nombre">

    <label>Descripción:</label>
    <textarea [(ngModel)]="nuevaFlor.descripcion" name="descripcion"></textarea>

    <label>Imagen (selecciona archivo):</label>
    <input type="file" (change)="onFileSelected($event)" accept="image/*">

    <!-- Vista previa -->
    <div *ngIf="nuevaFlor.imagen" class="preview">
      <p>Vista previa:</p>
      <img [src]="nuevaFlor.imagen" alt="Vista previa" width="120">
    </div>

    <label>Temporada:</label>
    <input type="text" [(ngModel)]="nuevaFlor.temporada" name="temporada">

    <label>Precio:</label>
    <input type="number" [(ngModel)]="nuevaFlor.precio" name="precio">

    <div class="botones">
      <button type="button" (click)="guardarFlor()">Guardar</button>
      <button type="button" (click)="toggleFormulario()">Cancelar</button>
    </div>
  </form>
</div>
